import{_ as o,c as e,e as c,a as s,b as a,d as t,r as l,o as u}from"./app-BSRiWrsC.js";const i={},k={href:"https://zhuanlan.zhihu.com/p/591770510",target:"_blank",rel:"noopener noreferrer"},r={href:"https://zhuanlan.zhihu.com/p/580945672",target:"_blank",rel:"noopener noreferrer"};function m(b,n){const p=l("ExternalLinkIcon");return u(),e("div",null,[n[3]||(n[3]=c(`<h2 id="使用matlab绘制圣诞树" tabindex="-1"><a class="header-anchor" href="#使用matlab绘制圣诞树"><span>使用matlab绘制圣诞树</span></a></h2><p>圣诞节🎅来啦，一起画一颗圣诞树🎄来活跃气氛吧</p><div class="language-matlab line-numbers-mode" data-highlighter="prismjs" data-ext="matlab" data-title="matlab"><pre><code><span class="line">clear<span class="token punctuation">;</span>close all</span>
<span class="line"><span class="token comment">%% 生成树本体曲面</span></span>
<span class="line">treeFunc<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token function">h</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">h</span><span class="token punctuation">(</span>h<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&amp;</span>h<span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">0</span><span class="token operator">+</span><span class="token number">1.5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token function">h</span><span class="token punctuation">(</span>h<span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">0.3636</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">[</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span>Z<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">cylinder</span><span class="token punctuation">(</span><span class="token function">treeFunc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">0.2</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">% 生成初始圆柱面</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">% 随机移动树冠上点的位置</span></span>
<span class="line">Z<span class="token operator">=</span>Z<span class="token operator">.*</span><span class="token number">25</span><span class="token punctuation">;</span></span>
<span class="line">cnt1<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">;</span>cnt2<span class="token operator">=</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">126</span><span class="token punctuation">;</span></span>
<span class="line">angle<span class="token operator">=</span><span class="token function">atan</span><span class="token punctuation">(</span><span class="token function">Y</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">./</span><span class="token function">X</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">treeDiffusion<span class="token operator">=</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">X</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">X</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token operator">.*</span>treeDiffusion<span class="token punctuation">;</span></span>
<span class="line"><span class="token function">Y</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">Y</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token operator">.*</span>treeDiffusion<span class="token punctuation">;</span></span>
<span class="line"><span class="token function">Z</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">Z</span><span class="token punctuation">(</span>cnt2<span class="token punctuation">,</span>cnt1<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">0.5</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">X</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">X</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">Y</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Z</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">Z</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制圣诞树</span></span>
<span class="line"><span class="token function">surfl</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span>Z<span class="token punctuation">,</span><span class="token string">&#39;light&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">grid off<span class="token punctuation">;</span>hold on</span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制礼物</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">drawPresent</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">ax<span class="token operator">=</span>gca<span class="token punctuation">;</span>hold on<span class="token punctuation">;</span></span>
<span class="line"><span class="token function">set</span><span class="token punctuation">(</span>gcf<span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token operator">./</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">r<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.0430</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">0.2061</span><span class="token operator">/</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0.2491</span><span class="token punctuation">)</span><span class="token operator">&#39;</span><span class="token punctuation">;</span></span>
<span class="line">g<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.2969</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">0.4012</span><span class="token operator">/</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0.6981</span><span class="token punctuation">)</span><span class="token operator">&#39;</span><span class="token punctuation">;</span></span>
<span class="line">b<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.0625</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token number">0.2696</span><span class="token operator">/</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">0.3321</span><span class="token punctuation">)</span><span class="token operator">&#39;</span><span class="token punctuation">;</span></span>
<span class="line">Cmap<span class="token operator">=</span><span class="token punctuation">[</span>r<span class="token punctuation">,</span>g<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">Cmap</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">Cmap</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">0</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">63</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">265</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制标题</span></span>
<span class="line"><span class="token function">annotation</span><span class="token punctuation">(</span><span class="token string">&#39;textbox&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">.45</span><span class="token punctuation">,</span><span class="token number">.86</span><span class="token punctuation">,</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token number">.1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;String&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Merry Christmas&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;fontsize&#39;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;fontweight&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Bold&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;FontName&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Cambria&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;HorizontalAlignment&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;center&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;EdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 当前坐标区域修饰</span></span>
<span class="line"><span class="token function">set</span><span class="token punctuation">(</span>ax<span class="token punctuation">,</span><span class="token string">&#39;XLim&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;YLim&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;ZLim&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;PlotBoxAspectRatio&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;XColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;YColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ZColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token operator">./</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token string">&#39;View&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">37.5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;Colormap&#39;</span><span class="token punctuation">,</span>Cmap<span class="token punctuation">,</span><span class="token string">&#39;Position&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">.9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39;Tag&#39;</span><span class="token punctuation">,</span><span class="token function">char</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span><span class="token number">112</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">,</span><span class="token number">121</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token number">32</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span><span class="token number">116</span><span class="token punctuation">,</span><span class="token number">109</span><span class="token punctuation">,</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token number">41</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lighting phong<span class="token punctuation">;</span>shading interp<span class="token punctuation">;</span><span class="token function">eval</span><span class="token punctuation">(</span>ax<span class="token punctuation">.</span>Tag<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制星星</span></span>
<span class="line"><span class="token function">plot3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">25.6</span><span class="token punctuation">,</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;MarkerSize&#39;</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">223</span><span class="token punctuation">,</span><span class="token number">153</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line"><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;LineWidth&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">starLightHdl<span class="token operator">=</span><span class="token function">scatter3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">25.6</span><span class="token punctuation">,</span><span class="token number">4500</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line"><span class="token string">&#39;MarkerEdgeAlpha&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceAlpha&#39;</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制圣诞树上的彩灯</span></span>
<span class="line">lightFuncX<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token punctuation">,</span>a<span class="token punctuation">,</span>z<span class="token punctuation">)</span> <span class="token punctuation">(</span>h<span class="token operator">-</span>z<span class="token punctuation">)</span><span class="token operator">./</span>h<span class="token operator">.*</span>r<span class="token operator">.*</span><span class="token function">cos</span><span class="token punctuation">(</span>a<span class="token operator">.*</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lightFuncY<span class="token operator">=</span><span class="token operator">@</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token punctuation">,</span>a<span class="token punctuation">,</span>z<span class="token punctuation">)</span> <span class="token punctuation">(</span>h<span class="token operator">-</span>z<span class="token punctuation">)</span><span class="token operator">./</span>h<span class="token operator">.*</span>r<span class="token operator">.*</span><span class="token function">sin</span><span class="token punctuation">(</span>a<span class="token operator">.*</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">h<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">;</span>r<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">% 绘制灯带</span></span>
<span class="line">lightZ1<span class="token operator">=</span><span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a1<span class="token operator">=</span><span class="token number">0.3</span><span class="token operator">*</span><span class="token keyword">pi</span><span class="token punctuation">;</span></span>
<span class="line">lightX1<span class="token operator">=</span><span class="token function">lightFuncX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lightY1<span class="token operator">=</span><span class="token function">lightFuncY</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">plot3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;LineWidth&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">253</span><span class="token punctuation">,</span><span class="token number">249</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerSize&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">% 绘制黄色灯泡</span></span>
<span class="line">lightZ1<span class="token operator">=</span><span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a1<span class="token operator">=</span><span class="token number">0.3</span><span class="token operator">*</span><span class="token keyword">pi</span><span class="token punctuation">;</span></span>
<span class="line">lightX1<span class="token operator">=</span><span class="token function">lightFuncX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lightY1<span class="token operator">=</span><span class="token function">lightFuncY</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">scatter3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token string">&#39;Marker&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">253</span><span class="token punctuation">,</span><span class="token number">249</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceAlpha&#39;</span><span class="token punctuation">,</span><span class="token number">.08</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">% 绘制光晕</span></span>
<span class="line"><span class="token function">scatter3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">&#39;Marker&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">231</span><span class="token punctuation">,</span><span class="token number">217</span><span class="token punctuation">,</span><span class="token number">129</span><span class="token punctuation">]</span><span class="token operator">./</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceAlpha&#39;</span><span class="token punctuation">,</span><span class="token number">.9</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">% 灯带</span></span>
<span class="line">lightZ1<span class="token operator">=</span><span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a1<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token operator">*</span><span class="token keyword">pi</span><span class="token punctuation">;</span></span>
<span class="line">lightX1<span class="token operator">=</span><span class="token function">lightFuncX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lightY1<span class="token operator">=</span><span class="token function">lightFuncY</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">plot3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;LineWidth&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerSize&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">% 白色彩灯</span></span>
<span class="line">lightZ1<span class="token operator">=</span><span class="token function">linspace</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a1<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token operator">*</span><span class="token keyword">pi</span><span class="token punctuation">;</span></span>
<span class="line">lightX1<span class="token operator">=</span><span class="token function">lightFuncX</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">lightY1<span class="token operator">=</span><span class="token function">lightFuncY</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span>r<span class="token operator">*</span><span class="token number">1.2</span><span class="token punctuation">,</span>a1<span class="token punctuation">,</span>lightZ1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">scatter3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token string">&#39;Marker&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">253</span><span class="token punctuation">,</span><span class="token number">249</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceAlpha&#39;</span><span class="token punctuation">,</span><span class="token number">.08</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">% 光晕</span></span>
<span class="line"><span class="token function">scatter3</span><span class="token punctuation">(</span>lightX1<span class="token punctuation">,</span>lightY1<span class="token punctuation">,</span>lightZ1<span class="token operator">+</span><span class="token number">.1</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token string">&#39;Marker&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerEdgeColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;none&#39;</span><span class="token punctuation">,</span><span class="token punctuation">...</span></span>
<span class="line">    <span class="token string">&#39;MarkerFaceColor&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MarkerFaceAlpha&#39;</span><span class="token punctuation">,</span><span class="token number">.9</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">%% 绘制雪花</span></span>
<span class="line">snowXYZ1<span class="token operator">=</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">26</span><span class="token operator">-</span><span class="token number">13</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">30</span><span class="token punctuation">;</span></span>
<span class="line">snowXYZ2<span class="token operator">=</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">26</span><span class="token operator">-</span><span class="token number">13</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">30</span><span class="token punctuation">;</span></span>
<span class="line">snowHdl1<span class="token operator">=</span><span class="token function">plot3</span><span class="token punctuation">(</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">snowHdl2<span class="token operator">=</span><span class="token function">plot3</span><span class="token punctuation">(</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Color&#39;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">.6</span><span class="token punctuation">,</span><span class="token number">.6</span><span class="token punctuation">,</span><span class="token number">.6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">% % 保存图像</span></span>
<span class="line"><span class="token comment">% F=getframe(gcf);</span></span>
<span class="line"><span class="token comment">% I=frame2im(F);</span></span>
<span class="line"><span class="token comment">% [I,map]=rgb2ind(I,256);</span></span>
<span class="line"><span class="token comment">% imwrite(I,map,&#39;Christmas tree.png&#39;);</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">% 旋转图像、雪花飘落</span></span>
<span class="line"><span class="token number">i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>speed<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">;</span>agl<span class="token operator">=</span><span class="token number">i</span><span class="token operator">*</span>speed<span class="token punctuation">;</span></span>
<span class="line">pic_num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">savegif<span class="token operator">=</span>false<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">while</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span></span>
<span class="line">    starLightHdl<span class="token punctuation">.</span>SizeData<span class="token operator">=</span><span class="token number">4500</span><span class="token operator">+</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">.*</span><span class="token number">1500</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">.01</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span></span>
<span class="line">    snowHdl1<span class="token punctuation">.</span>XData<span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>snowHdl1<span class="token punctuation">.</span>YData<span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>snowHdl1<span class="token punctuation">.</span>ZData<span class="token operator">=</span><span class="token function">snowXYZ1</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    snowHdl2<span class="token punctuation">.</span>XData<span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>snowHdl2<span class="token punctuation">.</span>YData<span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>snowHdl2<span class="token punctuation">.</span>ZData<span class="token operator">=</span><span class="token function">snowXYZ2</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">[</span>agl<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>drawnow<span class="token punctuation">;</span></span>
<span class="line">    <span class="token number">i</span><span class="token operator">=</span><span class="token number">i</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>agl<span class="token operator">=</span><span class="token number">i</span><span class="token operator">*</span>speed<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">pause</span><span class="token punctuation">(</span><span class="token number">.04</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">% 保存旋转图像</span></span>
<span class="line">    <span class="token keyword">if</span> savegif</span>
<span class="line">        F<span class="token operator">=</span><span class="token function">getframe</span><span class="token punctuation">(</span>gcf<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        I<span class="token operator">=</span><span class="token function">frame2im</span><span class="token punctuation">(</span>F<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">[</span>I<span class="token punctuation">,</span>map<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">rgb2ind</span><span class="token punctuation">(</span>I<span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> pic_num<span class="token operator">==</span><span class="token number">1</span></span>
<span class="line">        <span class="token function">imwrite</span><span class="token punctuation">(</span>I<span class="token punctuation">,</span>map<span class="token punctuation">,</span><span class="token string">&#39;Christmas tree.gif&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;gif&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Loopcount&#39;</span><span class="token punctuation">,</span><span class="token keyword">inf</span><span class="token punctuation">,</span><span class="token string">&#39;DelayTime&#39;</span><span class="token punctuation">,</span><span class="token number">0.04</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">else</span></span>
<span class="line">        <span class="token function">imwrite</span><span class="token punctuation">(</span>I<span class="token punctuation">,</span>map<span class="token punctuation">,</span><span class="token string">&#39;Christmas tree.gif&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;gif&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;WriteMode&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;append&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;DelayTime&#39;</span><span class="token punctuation">,</span><span class="token number">0.04</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">end</span></span>
<span class="line">        pic_num<span class="token operator">=</span>pic_num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token function">mod</span><span class="token punctuation">(</span>agl<span class="token punctuation">,</span><span class="token number">360</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span></span>
<span class="line">            savegif<span class="token operator">=</span>false<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">end</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">% 双击图窗退出</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token function">isequal</span><span class="token punctuation">(</span><span class="token function">get</span><span class="token punctuation">(</span>gcf<span class="token punctuation">,</span><span class="token string">&#39;SelectionType&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        close gcf</span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">drawPresent</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">,</span>dz<span class="token punctuation">,</span>scalex<span class="token punctuation">,</span>scaley<span class="token punctuation">,</span>scalez<span class="token punctuation">)</span></span>
<span class="line">    presentX<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    presentY<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    presentZ<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span> <span class="token number">0.5</span><span class="token punctuation">;</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    randColorMap<span class="token operator">=</span><span class="token function">cat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token function">repmat</span><span class="token punctuation">(</span>rand<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">./</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">.5</span><span class="token punctuation">,</span><span class="token function">repmat</span><span class="token punctuation">(</span>rand<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">./</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">.5</span><span class="token punctuation">,</span><span class="token function">repmat</span><span class="token punctuation">(</span>rand<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">./</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">surf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>presentX<span class="token operator">*</span>scalex<span class="token operator">+</span>dx<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>presentY<span class="token operator">*</span>scaley<span class="token operator">+</span>dy<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>presentZ<span class="token operator">*</span>scalez<span class="token operator">+</span>dz<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;CData&#39;</span><span class="token punctuation">,</span>randColorMap<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    shading interp</span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imagebed.krins.cloud/api/image/8V866J66.png" alt="效果图"></p><p><strong>可以试试更换自己喜欢的配色</strong>🌈 如将33行左右代码改成<code>Cmap=pink</code></p><p><img src="https://imagebed.krins.cloud/api/image/LH08B4NF.png" alt="pink"></p><p>或是bone</p><p><img src="https://imagebed.krins.cloud/api/image/PVL2NL6F.png" alt="bone"></p><p>还有slanCM包的配色<code>batlow</code></p><p><img src="https://imagebed.krins.cloud/api/image/4T662X68.png" alt="batlow"></p>`,10)),s("p",null,[n[2]||(n[2]=a("参考链接： ")),s("a",k,[n[0]||(n[0]=a("MATLAB | 一起来绘制有雪花飘落的圣诞树叭")),t(p)]),s("a",r,[n[1]||(n[1]=a("MATLAB | MATLAB配色不够用？全网最全的colormap补充包来啦！")),t(p)])])])}const v=o(i,[["render",m]]),g=JSON.parse('{"path":"/blogs/Others/ChristmasTree.html","title":"用matlab绘制一颗圣诞树","lang":"en-US","frontmatter":{"title":"用matlab绘制一颗圣诞树","date":"2022-12-24T00:00:00.000Z","tags":["matlab"],"categories":["Miscellaneous"]},"headers":[{"level":2,"title":"使用matlab绘制圣诞树","slug":"使用matlab绘制圣诞树","link":"#使用matlab绘制圣诞树","children":[]}],"git":{"createdTime":1744420073000,"updatedTime":1744420073000,"contributors":[{"name":"NewLearner4396","email":"NewLearner4396@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/Others/ChristmasTree.md"}');export{v as comp,g as data};
