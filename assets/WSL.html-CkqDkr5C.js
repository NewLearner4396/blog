import{_ as t,c as o,e as i,a as s,b as e,d as l,r as p,o as r}from"./app-BSRiWrsC.js";const d={},u={href:"https://learn.microsoft.com/zh-cn/windows/wsl/connect-usb",target:"_blank",rel:"noopener noreferrer"},c={href:"https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-2---check-requirements-for-running-wsl-2",target:"_blank",rel:"noopener noreferrer"},m={href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi",target:"_blank",rel:"noopener noreferrer"},b={href:"https://learn.microsoft.com/en-us/windows/wsl/install-manual#downloading-distributions",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/dyingsu/nolsp",target:"_blank",rel:"noopener noreferrer"},w={href:"https://www.intel.com/content/www/us/en/download/19344/intel-graphics-windows-dch-drivers.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.amd.com/en/support/kb/release-notes/rn-rad-win-wsl-support",target:"_blank",rel:"noopener noreferrer"},f={href:"https://developer.nvidia.com/cuda/wsl",target:"_blank",rel:"noopener noreferrer"},E={href:"https://blog.csdn.net/alfiy/article/details/126859106",target:"_blank",rel:"noopener noreferrer"},g={href:"https://learn.microsoft.com/zh-cn/windows/terminal/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://zhuanlan.zhihu.com/p/272082726#:~:text=Windows%20Terminal%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97%201%20%E5%8D%95%E5%87%BB%E5%85%B6%E5%BC%80%E5%A7%8B%E8%8F%9C%E5%8D%95%E5%9B%BE%E6%A0%87%202%20%E5%9C%A8Powershell%E6%88%96%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E4%B8%8B%E8%BE%93%E5%85%A5%20wsl%20%E6%88%96,Terminal%3A%20Select%20Default%20Shell%20%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%20WSL%20Bash%20%E3%80%82",target:"_blank",rel:"noopener noreferrer"},x={href:"https://blog.csdn.net/Jioho_chen/article/details/100624029",target:"_blank",rel:"noopener noreferrer"},L={href:"https://blog.csdn.net/dpl12/article/details/105484684",target:"_blank",rel:"noopener noreferrer"},W={href:"https://www.zhihu.com/question/387747506/answer/2579596278",target:"_blank",rel:"noopener noreferrer"},A={href:"https://blog.csdn.net/xushx_bigbear/article/details/12966625",target:"_blank",rel:"noopener noreferrer"},B={href:"https://blog.csdn.net/shihoongbo/article/details/122290472",target:"_blank",rel:"noopener noreferrer"},S={href:"https://www.1024sou.com/article/977402.html#:~:text=WSL2%20%E9%87%87%E7%94%A8%20Hyper-V%20%E7%9A%84%20Internal%20Virtual,Switch%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA%E6%9C%AC%E8%BA%AB%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%20IP%20%E5%9C%B0%E5%9D%80%E7%9A%84%EF%BC%8C%E4%BD%86%E6%98%AF%20WSL2%20%E5%8D%B4%E8%87%AA%E4%BD%9C%E8%81%AA%E6%98%8E%EF%BC%8C%E5%9C%A8%E6%AF%8F%E6%AC%A1%E5%85%A8%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%86%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E6%81%A2%E5%A4%8D%E6%88%90%20DHCP%EF%BC%8C%E8%BF%99%E5%B0%B1%E5%AF%BC%E8%87%B4WSL2%E6%AF%8F%E6%AC%A1%E5%85%A8%E6%96%B0%E5%90%AF%E5%8A%A8%E5%90%8E%E7%9A%84IP%E9%83%BD%E4%B8%8D%E5%9B%BA%E5%AE%9A%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%9B%BA%E5%AE%9A%E7%9A%84IP%EF%BC%8C%E9%9C%80%E8%A6%81%E5%81%9A%E4%B8%80%E4%BA%9B%E8%AE%BE%E7%BD%AE%E3%80%82",target:"_blank",rel:"noopener noreferrer"},C={href:"https://blog.csdn.net/nick_young_qu/article/details/113709768",target:"_blank",rel:"noopener noreferrer"},D={href:"https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute",target:"_blank",rel:"noopener noreferrer"},P={href:"https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands",target:"_blank",rel:"noopener noreferrer"},y={href:"https://learn.microsoft.com/zh-cn/windows/wsl/install#upgrade-version-from-wsl-1-to-wsl-2",target:"_blank",rel:"noopener noreferrer"},F={href:"https://www.cnblogs.com/ittranslator/p/14128570.html",target:"_blank",rel:"noopener noreferrer"},I={href:"https://blog.csdn.net/weixin_45840825/article/details/127138564",target:"_blank",rel:"noopener noreferrer"},N={href:"https://blog.csdn.net/qq_43613793/article/details/119774825",target:"_blank",rel:"noopener noreferrer"},U={href:"https://learn.microsoft.com/zh-cn/windows/wsl/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://learn.microsoft.com/zh-cn/windows/wsl/setup/environment",target:"_blank",rel:"noopener noreferrer"};function T(z,n){const a=p("ExternalLinkIcon");return r(),o("div",null,[n[48]||(n[48]=i('<h2 id="windows-subsystem-for-linuxâ€”â€”wsl2" tabindex="-1"><a class="header-anchor" href="#windows-subsystem-for-linuxâ€”â€”wsl2"><span>Windows Subsystem for Linuxâ€”â€”WSL2</span></a></h2><h3 id="å‰ä¸–ä»Šèº«" tabindex="-1"><a class="header-anchor" href="#å‰ä¸–ä»Šèº«"><span>å‰ä¸–ä»Šèº«</span></a></h3><p>å¾®è½¯å¼€å‘WSLä½¿å¼€å‘äººå‘˜èƒ½åœ¨Windowsç¯å¢ƒä¸‹è¿è¡ŒLinuxç¯å¢ƒï¼Œè€Œä¸ä¼šäº§ç”Ÿä¼ ç»Ÿè™šæ‹Ÿæœºæˆ–åŒç³»ç»Ÿè®¾ç½®çš„çƒ¦æ¼ã€‚åŸæœ¬WSLå¸Œæœ›åœ¨Windowsä¸‹è§£é‡ŠLinuxï¼Œä½†å‘ç°æˆæœ¬å¤ªé«˜ï¼Œéš¾ä»¥ç»´ç»§ğŸ¤”ï¼Œé€‰æ‹©äº†ä½¿ç”¨è™šæ‹ŸåŒ–ç›´æ¥è°ƒç”¨Linuxå†…æ ¸æ¨å‡ºäº†WSL2ã€‚</p><h3 id="ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç¼ºç‚¹"><span>ä¼˜ç¼ºç‚¹</span></a></h3><p>åœ¨Windowsçª—å£ä¸‹è¿è¡ŒLinuxç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Dockerç­‰ï¼Œè€Œä¸éœ€è¦Winå»è½¬æ¢ï¼Œè™½ç„¶ç±»ä¼¼è™šæ‹Ÿæœºï¼Œä½†Winä¸Linuxå…±äº«è®¾å¤‡èµ„æºï¼ŒåŠ¨æ€è°ƒåº¦ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨GPUè¿›è¡Œæœºå™¨å­¦ä¹ ç­‰çš„åŠ é€Ÿï¼ŒæŸè€—æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºå°ï¼Œä¸”Linuxå¯ä»¥ç›´æ¥è®¿é—®Windowsä¸‹çš„æ–‡ä»¶ï¼Œä½†æ˜¯WSL2çš„è®¿é—®é€Ÿåº¦æ¯”WSL1çš„å·®äº†è®¸å¤šã€‚</p>',5)),s("p",null,[n[1]||(n[1]=e("ç›®å‰WSL2è‹¥éœ€è¦ç›´æ¥è®¿é—®USBè®¾å¤‡ï¼Œéœ€è¦ä½¿ç”¨USBIPD-WINå·¥å…·æä¾›æ”¯æŒï¼Œå…·ä½“å‚é˜…")),s("a",u,[n[0]||(n[0]=e("è¿æ¥USBè®¾å¤‡")),l(a)]),n[2]||(n[2]=e("ï¼Œä¸”è¿˜ä¸æ”¯æŒä¸²è¡Œç«¯å£ã€‚"))]),n[49]||(n[49]=s("p",null,"ç›®å‰åœ¨å…³é—­WSL2å®ä¾‹å‰ï¼ŒWSL2ä¸ä¼šè‡ªåŠ¨å°†ä¹‹å‰ç”¨çš„å†…å­˜çš„ç¼“å­˜é‡Šæ”¾ï¼Œè‹¥é•¿æ—¶é—´è¿è¡Œå®¹æ˜“è€—å°½Windowså†…å­˜ï¼Œè€ŒWSL1ä¼šåœ¨è¿›ç¨‹ç»“æŸåç›´æ¥é‡Šæ”¾ï¼Œè¿™ä¸ªåŒºåˆ«éœ€è¦æ³¨æ„",-1)),n[50]||(n[50]=s("p",null,"WSL2ä½œä¸ºhyper-vè™šæ‹Ÿæœºè¿è¡Œï¼Œä½¿ç”¨ç½‘ç»œåœ°å€è½¬æ¢ (NAT) æœåŠ¡ä½œä¸ºå…¶è™šæ‹Ÿç½‘ç»œï¼Œè€Œä¸æ˜¯å°†å…¶æ¡¥æ¥åˆ°ä¸»æœºç½‘ç»œæ¥å£å¡ (NIC)ï¼Œåœ¨é‡å¯æ—¶å°†æ›´æ”¹IPåœ°å€ï¼Œè‹¥éœ€å›ºå®šIPåˆ™éœ€è¦è®¾ç½®æ›¿ä»£æ–¹æ³•ã€‚",-1)),n[51]||(n[51]=s("h3",{id:"å®‰è£…æ¡ä»¶",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å®‰è£…æ¡ä»¶"},[s("span",null,"å®‰è£…æ¡ä»¶")])],-1)),n[52]||(n[52]=s("ol",null,[s("li",null,[e("win10ç³»ç»Ÿç‰ˆæœ¬ä¸º Version 1903 or later, with Build 18362 or laterï¼Œç»ˆç«¯ä¸­è¾“å…¥"),s("code",null,"ver"),e("æŸ¥çœ‹ã€‚win11ç›´æ¥æ”¯æŒã€‚")]),s("li",null,"è®¡ç®—æœºæ”¯æŒæ”¯æŒ Hyper-V è™šæ‹ŸåŒ–")],-1)),s("p",null,[s("a",c,[n[3]||(n[3]=e("æ£€æŸ¥å®‰è£…WSL2æ¡ä»¶")),l(a)])]),n[53]||(n[53]=s("h3",{id:"å¯ç”¨",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å¯ç”¨"},[s("span",null,"å¯ç”¨")])],-1)),n[54]||(n[54]=s("p",null,[s("strong",null,"ä»¥ä¸‹å‘½ä»¤éƒ½åœ¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼")],-1)),s("ol",null,[n[19]||(n[19]=s("li",null,[s("p",null,[e("å¯ç”¨WSL "),s("code",null,"dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart")])],-1)),n[20]||(n[20]=s("li",null,[s("p",null,[e("å¯ç”¨â€œè™šæ‹Ÿæœºå¹³å°â€ "),s("code",null,"dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart")]),s("p",null,[e("æˆ–æ˜¯æ‰‹åŠ¨å¯ç”¨ï¼Œwin+R è¾“å…¥ appwiz.cplï¼Œæ‰“å¼€å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½ å¯ç”¨ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š "),s("img",{src:"http://imagebed.krins.cloud/api/image/X6422F0R.png",alt:"å¯ç”¨wsl"})])],-1)),s("li",null,[s("p",null,[n[5]||(n[5]=e("è®¾ç½®é»˜è®¤ä½¿ç”¨WSL2 ä¸‹è½½WSL2å†…æ ¸æ›´æ–°åŒ…")),s("a",m,[n[4]||(n[4]=e("é€‚ç”¨äº x64 è®¡ç®—æœºçš„ WSL2 Linux å†…æ ¸æ›´æ–°åŒ…")),l(a)]),n[6]||(n[6]=e("ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ ä¹‹ååœ¨ç»ˆç«¯ä¸­è¾“å…¥ ")),n[7]||(n[7]=s("code",null,"wsl --set-default-version 2",-1))])]),s("li",null,[s("p",null,[n[9]||(n[9]=e("å®‰è£…ä¸€ä¸ªLinuxå‘è¡Œç‰ˆ ä¸ºäº†ä¸å°†Linuxç³»ç»Ÿå®‰è£…åœ¨Cç›˜ï¼Œéœ€è¦éº»çƒ¦ä¸€ç‚¹ï¼Œæ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…è¿›è¡Œå®‰è£… åœ¨å®˜ç½‘ä¸­ä¸‹è½½Linuxå‘è¡Œç‰ˆï¼š")),s("a",b,[n[8]||(n[8]=e("Linuxå‘è¡Œç‰ˆ")),l(a)])]),n[10]||(n[10]=i("<p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç»ˆç«¯ï¼Œè¾“å…¥<code>netsh winsock reset</code>ï¼Œä¹‹åä¸è¦é‡å¯ï¼Œç»§ç»­å¾€ä¸‹</p><p>å°†å®‰è£…åŒ…æ”¾åœ¨æƒ³å®‰è£…Linuxçš„è·¯å¾„ï¼Œåç¼€æ”¹ä¸º<code>.zip</code>ï¼Œè§£å‹åè‹¥æ— <code>Ubuntu.exe</code>ï¼Œåˆ™å°†<code>Ubuntu_2204.0.10.0_x64.appx</code>åç¼€å†æ¬¡ä¿®æ”¹ä¸º<code>.zip</code>è§£å‹è¿è¡Œ<code>Ubuntu.exe</code>ï¼Œå¦åˆ™ç›´æ¥è¿è¡Œ<code>Ubuntu.exe</code></p><p>ç­‰å¾…ä¸€ä¼šï¼Œå®‰è£…çª—å£ä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¾“å…¥å®Œæ¯•åˆ™å®‰è£…å®Œæˆ</p>",3))]),s("li",null,[s("p",null,[n[12]||(n[12]=e("é¿å…ä½¿ç”¨WSL2æ—¶å‡ºç°")),n[13]||(n[13]=s("code",null,"å‚è€ƒçš„å¯¹è±¡ç±»å‹ä¸æ”¯æŒå°è¯•",-1)),n[14]||(n[14]=e(" ä¸‹è½½")),s("a",v,[n[11]||(n[11]=e("NoLsp.exe")),l(a)]),n[15]||(n[15]=e("ï¼Œè§£å‹åæ”¾ç½®åœ¨")),n[16]||(n[16]=s("code",null,"C:\\windows\\system32",-1)),n[17]||(n[17]=e("æ–‡ä»¶å¤¹ä¸­ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç»ˆç«¯è¾“å…¥")),n[18]||(n[18]=s("code",null,"NoLsp.exe C:\\windows\\system32\\wsl.exe",-1))])])]),n[55]||(n[55]=s("h3",{id:"å›¾å½¢ç•Œé¢",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å›¾å½¢ç•Œé¢"},[s("span",null,"å›¾å½¢ç•Œé¢")])],-1)),n[56]||(n[56]=s("p",null,"Win11 22000æˆ–æ›´é«˜ç‰ˆæœ¬å·²æ”¯æŒWSLçš„GUIğŸ˜",-1)),n[57]||(n[57]=s("p",null,"å®‰è£…ä¸æ˜¾å¡åŒ¹é…çš„é©±åŠ¨ï¼š",-1)),s("ul",null,[s("li",null,[s("a",w,[n[21]||(n[21]=e("é€‚ç”¨äº WSL çš„ Intel GPU é©±åŠ¨ç¨‹åº")),l(a)])]),s("li",null,[s("a",k,[n[22]||(n[22]=e("é€‚ç”¨äº WSL çš„ AMD GPU é©±åŠ¨ç¨‹åº")),l(a)])]),s("li",null,[s("a",f,[n[23]||(n[23]=e("é€‚ç”¨äº WSL çš„ NVIDIA GPU é©±åŠ¨ç¨‹åº")),l(a)])])]),n[58]||(n[58]=i(`<p>æ›´æ–°WSLåé‡å¯å³å¯ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢äº† <code>wsl --update</code></p><p>è‹¥win10æƒ³ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢å¯ä»¥é€šè¿‡è¿œç¨‹æ¡Œé¢æ›²çº¿æ•‘å›½ğŸ˜†</p><p>åœ¨wslç¯å¢ƒä¸‹è¾“å…¥</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å®‰è£…è¿œç¨‹æ¡Œé¢åè®®xrdpä¸è½»é‡çº§æ¡Œé¢xfce</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xrdp</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xfce4 xfce4-goodies</span>
<span class="line"><span class="token comment"># ç¼–è¾‘xrdpé…ç½®æ–‡ä»¶</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/xrdp/xrdp.ini</span>
<span class="line"><span class="token comment">##ä¿®æ”¹ä»¥ä¸‹å‚æ•°åä¿å­˜</span></span>
<span class="line"><span class="token assign-left variable">max_bpp</span><span class="token operator">=</span><span class="token number">128</span></span>
<span class="line"><span class="token assign-left variable">xserverbpp</span><span class="token operator">=</span><span class="token number">128</span> <span class="token comment"># è¿™ä¸ªåŸæœ¬æ˜¯æ³¨é‡Šç€çš„ï¼Œä¸æ”¹ä¹Ÿè¡Œ</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#åœ¨bashä¸‹ç›´æ¥è¾“å…¥</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> xfce4-session <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> ~/.xsession</span>
<span class="line"></span>
<span class="line"><span class="token comment">#ç¼–è¾‘/etc/xrdp/startwm.shæ–‡ä»¶</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/xrdp/startwm.sh</span>
<span class="line"><span class="token comment">##æ³¨é‡Šæ‰æœ€åä¸¤è¡Œå¹¶æ·»åŠ ä¸€å¥startxfce4ï¼Œç„¶åä¿å­˜</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯æ¬¡è¦ä½¿ç”¨æ¡Œé¢æ—¶</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å¼€å¯è¿œç¨‹æ¡Œé¢</span></span>
<span class="line"><span class="token function">sudo</span> /etc/init.d/xrdp start</span>
<span class="line"><span class="token comment"># ç¡®å®šip</span></span>
<span class="line"><span class="token function">ip</span> a</span>
<span class="line"><span class="token comment">## æ‰¾åˆ°eth0çš„inet</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://imagebed.krins.cloud/api/image/TBH4H480.png" alt="æŸ¥æ‰¾ip"></p><p>win+R è¾“å…¥mstscæ‰“å¼€å¾®è½¯çš„è¿œç¨‹æ¡Œé¢è¿æ¥å·¥å…· è¾“å…¥ä¸Šé¢çš„ip <img src="http://imagebed.krins.cloud/api/image/000X0VPN.png" alt="è¾“å…¥ip"> è¾“å…¥ç”¨æˆ·åå¯†ç è¿æ¥ <img src="http://imagebed.krins.cloud/api/image/FJ6P6RFJ.png" alt="è¿æ¥è¿œç¨‹æ¡Œé¢"></p>`,8)),s("p",null,[n[25]||(n[25]=e("å–œæ¬¢æŠ˜è…¾å¯ä»¥ç¾åŒ–æ¡Œé¢æ•™ç¨‹ï¼š")),s("a",E,[n[24]||(n[24]=e("ç¾åŒ–ä½ çš„Xfceæ¡Œé¢")),l(a)])]),n[59]||(n[59]=s("h3",{id:"windows-terminal",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#windows-terminal"},[s("span",null,"Windows Terminal")])],-1)),s("p",null,[s("a",g,[n[26]||(n[26]=e("ä»€ä¹ˆæ˜¯ Windows ç»ˆç«¯ï¼Ÿ")),l(a)])]),s("p",null,[s("a",h,[n[27]||(n[27]=e("Windows Terminalå®Œæ•´æŒ‡å—")),l(a)])]),s("p",null,[s("a",x,[n[28]||(n[28]=e("ç¾åŒ– Windows Terminal(iTerm2-Color-Schemes)")),l(a)])]),n[60]||(n[60]=i(`<h3 id="å›ºå®šip" tabindex="-1"><a class="header-anchor" href="#å›ºå®šip"><span>å›ºå®šip</span></a></h3><p>å› ä¸ºWSL2æ¯æ¬¡å¯åŠ¨éƒ½è¦è™šæ‹ŸåŒ–ä¸€å¼ ç½‘å¡ï¼Œæ‰€ä»¥ipä¸ä¼šå›ºå®šï¼Œéœ€è¦å…¶ä»–çš„æ–¹æ³•å›ºå®šipæ–¹ä¾¿ç™»å½•</p><p>æˆ‘è®¾ç½®çš„ipä¸º Windowsç«¯é™æ€IP 192.168.99.1 WSL Linuxç«¯é™æ€IP 192.168.99.2 å¯æŒ‰ç…§ä¸ªäººéœ€æ±‚è¿›è¡Œè®¾å®š</p><p>åœ¨powershellä¸­è¾“å…¥<code>vim $profile</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token variable">$getIP</span> <span class="token operator">=</span> netsh.exe interface <span class="token function">ip</span> show addresses <span class="token string">&quot;vEthernet (WSL)&quot;</span> <span class="token operator">|</span> findstr.exe /C:<span class="token string">&quot;192.168.99.1&quot;</span></span>
<span class="line">if<span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$getIP</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    netsh interface <span class="token function">ip</span> <span class="token function">add</span> address <span class="token string">&quot;vEthernet (WSL)&quot;</span> <span class="token assign-left variable">address</span><span class="token operator">=</span><span class="token number">192.168</span>.99.1/24</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆšå¼€æœºæ‰“å¼€powershellæ—¶ä¼šæ˜¾ç¤º<code>æ–‡ä»¶åã€ç›®å½•åæˆ–å·æ ‡è¯­æ³•ä¸æ­£ç¡®ã€‚</code> å› ä¸ºwslæœªå¯åŠ¨ï¼Œè¿˜æœªç»™å…¶åˆ†é…è™šæ‹Ÿç½‘å¡ï¼Œå¯åŠ¨wslåshellä¼šè‡ªåŠ¨ç»™&quot;vEthernet (WSL)&quot;æ·»åŠ ipåœ°å€ã€‚ æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªæŠ¥é”™ã€‚</p><p>ä¸ºé¿å…wslæ¯æ¬¡å¯åŠ¨ç”Ÿæˆçš„ipå°†æˆ‘ä»¬è®¾ç½®çš„ipè¦†ç›–æ‰ï¼Œåœç”¨å…¶æœåŠ¡</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># ç»ˆç«¯ä¸­è¾“å…¥</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/wsl.conf</span>
<span class="line"><span class="token comment"># åœ¨æ–‡ä»¶å†…è¾“å…¥ä»¥ä¸‹å†…å®¹</span></span>
<span class="line"><span class="token punctuation">[</span>network<span class="token punctuation">]</span></span>
<span class="line">generateResolvConf <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token comment"># ä¿å­˜åé€€å‡º</span></span>
<span class="line"><span class="token comment"># å°†å·²ç»ç”Ÿæˆçš„ipé…ç½®æ–‡ä»¶åˆ é™¤</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> /etc/resolv.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶<code>sudo vim ~/Public/static-ip.sh</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token comment"># ipè®¾ç½®ä¸º192.168.99.2</span></span>
<span class="line"><span class="token function">ip</span> addr show eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;192.168.99.2/24&quot;</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> /dev/null</span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">  <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token number">192.168</span>.99.2/24 broadcast <span class="token number">192.168</span>.99.255 dev eth0 label eth0:1</span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºä¿è¯æœ‰è¿è¡Œæƒé™ç»ˆç«¯è¾“å…¥<code>sudo chmod 777 ~/Public/static-ip.sh</code></p>`,11)),s("p",null,[n[30]||(n[30]=e("å› ä¸ºUbuntué»˜è®¤çš„shæ˜¯è¿æ¥åˆ°dashçš„ï¼Œä¸ºäº†é¿å…ä¸èƒ½è¿è¡Œbashè„šæœ¬ï¼Œå°†dashç¦ç”¨ ")),n[31]||(n[31]=s("code",null,"sudo dpkg-reconfigure dash",-1)),n[32]||(n[32]=e(" é€‰æ‹©")),n[33]||(n[33]=s("code",null,"no",-1)),n[34]||(n[34]=e(" å‚è€ƒ:")),s("a",L,[n[29]||(n[29]=e("è§£å†³Linuxä¸‹ç¼–è¯‘.shæ–‡ä»¶æŠ¥é”™ â€œ[: unexpected operator]â€")),l(a)])]),n[61]||(n[61]=i(`<p>ä¹‹ååœ¨<code>~/.bashrc</code>æ–‡ä»¶ä¸­æ·»åŠ ä½¿ç”¨è¯¥è„šæœ¬çš„å‘½ä»¤ï¼Œå°±å¯ä»¥æ¯æ¬¡åŠ è½½shelléƒ½å¯åŠ¨ä¸€éè„šæœ¬</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> ~/.bashrc</span>
<span class="line"><span class="token comment"># åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†</span></span>
<span class="line"><span class="token comment">## å¦‚æœipæœªä¿®æ”¹çš„è¯è¿è¡Œè„šæœ¬è¿›è¡Œä¿®æ”¹å¹¶é¡ºä¾¿å¯åŠ¨è¿œç¨‹æ¡Œé¢</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">\`</span><span class="token function">hostname</span> <span class="token parameter variable">-I</span><span class="token variable">\`</span></span> <span class="token operator">!=</span> <span class="token string">&quot;192.168.99.2&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> Ubuntu <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-S</span> <span class="token function">sh</span> ~/Public/static-ip.sh</span>
<span class="line">    <span class="token function">sudo</span> /etc/init.d/xrdp start</span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹æ³•<strong>ä¼šå°†ä½ çš„ç”¨æˆ·å¯†ç æš´éœ²åœ¨æ–‡ä»¶ä¸­</strong>ï¼Œæœ‰äº›å±é™©ï¼Œä½†æˆ‘ç›®å‰æš‚æ—¶æ²¡æœ‰æ›´å¥½çš„è§£å†³åŠæ³•ï¼Œåˆä¸æƒ³ç›´æ¥è¿›å…¥å°±æ˜¯rootç”¨æˆ·ã€‚ä»¥åæœ‰æ›´å¥½çš„åŠæ³•å†æ›´æ–°ã€‚</p><p><img src="http://imagebed.krins.cloud/api/image/ZJ84JFFT.png" alt="æ·»åŠ ç½‘ç»œäº’é€š"></p><ul><li>æ–°å»ºé˜²ç«å¢™å…¥ç«™è§„åˆ™ <ul><li>æ‰“å¼€æ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\Windows Defender é˜²ç«å¢™</li><li>ç‚¹å‡»å…¥ç«™è§„åˆ™-&gt;æ–°å»ºè§„åˆ™</li><li>è§„åˆ™ç±»å‹ï¼šè‡ªå®šä¹‰</li><li>ç¨‹åºï¼šæ‰€æœ‰ç¨‹åº</li><li>åè®®å’Œç«¯å£ï¼šé»˜è®¤å³å¯</li><li>ä½œç”¨åŸŸï¼š <ul><li>æœ¬åœ°ipå¤„é€‰æ‹©â€œä»»ä½•IPåœ°å€â€</li><li>è¿œç¨‹ipå¤„é€‰æ‹©â€œä¸‹åˆ—IPåœ°å€â€ï¼Œå¹¶å°†wsl2çš„IPæ·»åŠ è¿›å»ã€‚ï¼ˆè¯·æ ¹æ®è‡ªå·±wsl2çš„ipè¿›è¡Œè®¡ç®—ï¼Œæˆ‘è¿™é‡Œæ·»åŠ äº†172.22.176.0/20ï¼‰ï¼ˆæ©ç ä¸€èˆ¬æ˜¯20ä½ï¼‰</li></ul></li><li>æ“ä½œï¼šå…è®¸è¿æ¥</li><li>é…ç½®æ–‡ä»¶ï¼šä¸‰ä¸ªå…¨é€‰</li><li>åç§°æè¿°ï¼šè¯·è‡ªå®šä¹‰ æ³¨æ„ï¼šè¿™ä¸€æ­¥å®Œæˆåï¼Œä»wsl2 pingä¸»æœºçš„ipåº”è¯¥å¯ä»¥pingé€šäº†ã€‚ å³<code>ping 192.168.99.1</code> è¿™ä¸ª<code>192.168.99.1</code>æ˜¯ä¹‹å‰è®¾ç½®çš„Windowsç«¯é™æ€IP</li></ul></li></ul><p>å°†Windowsä»£ç†è½¯ä»¶çš„<code>å…è®¸å±€åŸŸç½‘</code>é€‰é¡¹å¯ç”¨ï¼Œåœ¨Linuxè®¾ç½®ä»£ç† <code>export ALL_PROXY=&quot;http://192.168.99.1:7890&quot;</code>æ³¨æ„ç«¯å£å·è¦æ ¹æ®ä»£ç†è½¯ä»¶è¿›è¡Œè®¾ç½® å°±å¯ä»¥é€šè¿‡Windowsè¿›è¡Œä»£ç†å•¦ğŸ¤© ä¹‹åè¦gitä¹‹ç±»çš„å°±èƒ½å¾ˆæ–¹ä¾¿</p>`,6)),s("p",null,[s("a",W,[n[35]||(n[35]=e("wsl2èƒ½å¦å›ºå®šipåœ°å€?")),l(a)])]),s("p",null,[s("a",A,[n[36]||(n[36]=e("ç”¨ echo ç®¡é“å‘½ä»¤ç»™sudoè‡ªåŠ¨è¾“å…¥å¯†ç ")),l(a)])]),s("p",null,[s("a",B,[n[37]||(n[37]=e("Linuxé»˜è®¤ä»¥rootæˆ–ç®¡ç†å‘˜æƒé™å¯åŠ¨ç¨‹åºçš„ä¸‰ç§æ–¹å¼")),l(a)])]),s("p",null,[s("a",S,[n[38]||(n[38]=e("WSL2-CentOS7å›ºå®šIP")),l(a)])]),s("p",null,[s("a",C,[n[39]||(n[39]=e("wsl2é…ç½®ä½¿ç”¨windowsç½‘ç»œä»£ç†")),l(a)])]),n[62]||(n[62]=s("h3",{id:"ä½¿ç”¨cuda",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ä½¿ç”¨cuda"},[s("span",null,"ä½¿ç”¨CUDA")])],-1)),s("p",null,[s("a",D,[n[40]||(n[40]=e("å®˜æ–¹æ•™ç¨‹-GPUåŠ é€Ÿ")),l(a)])]),n[63]||(n[63]=s("h3",{id:"wslå‘½ä»¤",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#wslå‘½ä»¤"},[s("span",null,"WSLå‘½ä»¤")])],-1)),n[64]||(n[64]=s("p",null,"å¯åˆ—å‡ºå·²å®‰è£…çš„ Linux å‘è¡Œç‰ˆï¼Œå¹¶é€šè¿‡åœ¨ PowerShell æˆ– Windows å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ¯ä¸ªå‘è¡Œç‰ˆçš„ WSL ç‰ˆæœ¬ï¼šwsl -l -vã€‚",-1)),n[65]||(n[65]=s("p",null,"è¦åœ¨å®‰è£…æ–°çš„ Linux å‘è¡Œç‰ˆæ—¶å°†é»˜è®¤ç‰ˆæœ¬è®¾ç½®ä¸º WSL 1 æˆ– WSL 2ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ wsl --set-default-version <Version#>ï¼Œå°† <Version#> æ›¿æ¢ä¸º 1 æˆ– 2ã€‚",-1)),n[66]||(n[66]=s("p",null,"è¦è®¾ç½®ä¸ wsl å‘½ä»¤ä¸€èµ·ä½¿ç”¨çš„é»˜è®¤ Linux å‘è¡Œç‰ˆï¼Œè¯·è¾“å…¥ wsl -s <DistributionName> æˆ– wsl --setdefault <DistributionName>ï¼Œå°† <DistributionName> æ›¿æ¢ä¸ºè¦ä½¿ç”¨çš„ Linux å‘è¡Œç‰ˆçš„åç§°ã€‚ ä¾‹å¦‚ï¼Œä» PowerShell/CMD è¾“å…¥ wsl -s Debianï¼Œå°†é»˜è®¤å‘è¡Œç‰ˆè®¾ç½®ä¸º Debian",-1)),n[67]||(n[67]=s("p",null,"è¦åœ¨ PowerShell æˆ– Windows å‘½ä»¤æç¤ºç¬¦ä¸‹è¿è¡Œç‰¹å®šçš„ WSL å‘è¡Œç‰ˆè€Œä¸æ›´æ”¹é»˜è®¤å‘è¡Œç‰ˆï¼Œè¯·ä½¿ç”¨å‘½ä»¤ wsl -d <DistributionName>ï¼Œå°† <DistributionName> æ›¿æ¢ä¸ºè¦ä½¿ç”¨çš„å‘è¡Œç‰ˆçš„åç§°ã€‚",-1)),n[68]||(n[68]=s("p",null,"wsl --set-version <DistributionName> version(1/2)å‘½ä»¤å¯ç”¨äºä» WSL 2 é™çº§åˆ° WSL 1ï¼Œæˆ–å°†ä»¥å‰å®‰è£…çš„ Linux å‘è¡Œç‰ˆä» WSL 1 æ›´æ–°åˆ° WSL 2ã€‚",-1)),n[69]||(n[69]=s("p",null,"wsl --shutdown å‘½ä»¤ç”¨äºå°†å…³é—­wslæœåŠ¡ï¼Œé‡Šæ”¾å…¶å†…å­˜ç¼“å­˜ã€‚æ™®é€šçš„exitåªæ˜¯æ³¨é”€ï¼Œè¦è¿‡å‡ åˆ†é’Ÿç³»ç»Ÿæ‰ä¼šå…³é—­å…¶æœåŠ¡ã€‚",-1)),s("p",null,[s("a",P,[n[41]||(n[41]=e("WSL çš„åŸºæœ¬å‘½ä»¤")),l(a)])]),s("p",null,[s("a",y,[n[42]||(n[42]=e("å®‰è£…WSL")),l(a)])]),n[70]||(n[70]=s("p",null,"å‚è€ƒé“¾æ¥ï¼š",-1)),s("ol",null,[s("li",null,[s("a",F,[n[43]||(n[43]=e("å¦‚ä½•åœ¨Windows 10ä¸Šå®‰è£…WSL2")),l(a)])]),s("li",null,[s("a",I,[n[44]||(n[44]=e("win11 å®‰è£… WSL2 åœ¨é C ç›˜åŠé…ç½®ï¼ˆå›¾å½¢ç•Œé¢+ä»£ç†ï¼‰")),l(a)])]),s("li",null,[s("a",N,[n[45]||(n[45]=e("Win10é€šè¿‡wsl2ä½¿ç”¨Ubuntuä»¥åŠGUIçš„å®‰è£…")),l(a)])]),s("li",null,[s("a",U,[n[46]||(n[46]=e("å®˜æ–¹æ–‡æ¡£")),l(a)])]),s("li",null,[s("a",q,[n[47]||(n[47]=e("WSLä½¿ç”¨å®˜æ–¹æ•™ç¨‹")),l(a)])])])])}const G=t(d,[["render",T]]),R=JSON.parse('{"path":"/blogs/Config/WSL.html","title":"Windowså†…è¿è¡ŒLinux-WSL2","lang":"en-US","frontmatter":{"title":"Windowså†…è¿è¡ŒLinux-WSL2","date":"2022-11-22T00:00:00.000Z","tags":["Linux"],"categories":["Config"]},"headers":[{"level":2,"title":"Windows Subsystem for Linuxâ€”â€”WSL2","slug":"windows-subsystem-for-linuxâ€”â€”wsl2","link":"#windows-subsystem-for-linuxâ€”â€”wsl2","children":[{"level":3,"title":"å‰ä¸–ä»Šèº«","slug":"å‰ä¸–ä»Šèº«","link":"#å‰ä¸–ä»Šèº«","children":[]},{"level":3,"title":"ä¼˜ç¼ºç‚¹","slug":"ä¼˜ç¼ºç‚¹","link":"#ä¼˜ç¼ºç‚¹","children":[]},{"level":3,"title":"å®‰è£…æ¡ä»¶","slug":"å®‰è£…æ¡ä»¶","link":"#å®‰è£…æ¡ä»¶","children":[]},{"level":3,"title":"å¯ç”¨","slug":"å¯ç”¨","link":"#å¯ç”¨","children":[]},{"level":3,"title":"å›¾å½¢ç•Œé¢","slug":"å›¾å½¢ç•Œé¢","link":"#å›¾å½¢ç•Œé¢","children":[]},{"level":3,"title":"Windows Terminal","slug":"windows-terminal","link":"#windows-terminal","children":[]},{"level":3,"title":"å›ºå®šip","slug":"å›ºå®šip","link":"#å›ºå®šip","children":[]},{"level":3,"title":"ä½¿ç”¨CUDA","slug":"ä½¿ç”¨cuda","link":"#ä½¿ç”¨cuda","children":[]},{"level":3,"title":"WSLå‘½ä»¤","slug":"wslå‘½ä»¤","link":"#wslå‘½ä»¤","children":[]}]}],"git":{"createdTime":1744420073000,"updatedTime":1744420073000,"contributors":[{"name":"NewLearner4396","email":"NewLearner4396@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/Config/WSL.md"}');export{G as comp,R as data};
