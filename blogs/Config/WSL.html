<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <style>
      .features__container .magic-card.features__item{
        text-align: center;
        > h4 { font-size: 24px; }
        > p { font-size: 30px; }
      } 
    </style><style>
      .math-block {
        overflow-x: auto; /* 对于长公式，允许水平滚动 */
        margin: 1em 0;
      }
    </style><meta name="referrer" content="no-referrer"><title>Windows内运行Linux-WSL2 | Land of Fragment</title><meta name="description" content="My Knowledge Fragments">
    <link rel="preload" href="/assets/style-6pge_xnY.css" as="style"><link rel="stylesheet" href="/assets/style-6pge_xnY.css">
    <link rel="modulepreload" href="/assets/app-BSRiWrsC.js"><link rel="modulepreload" href="/assets/WSL.html-CkqDkr5C.js">
    <link rel="prefetch" href="/assets/timeline.html-DfeHn2Tg.js" as="script"><link rel="prefetch" href="/assets/posts.html-BfZDQn9T.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-CUdkYGNJ.js" as="script"><link rel="prefetch" href="/assets/1.html-XvgtUsnW.js" as="script"><link rel="prefetch" href="/assets/1.html-avnTqInM.js" as="script"><link rel="prefetch" href="/assets/1.html-NgcU7KSV.js" as="script"><link rel="prefetch" href="/assets/1.html-CXE0zHtL.js" as="script"><link rel="prefetch" href="/assets/1.html-Cog-kVKi.js" as="script"><link rel="prefetch" href="/assets/1.html-_zvhubRJ.js" as="script"><link rel="prefetch" href="/assets/1.html-ClCg7FGd.js" as="script"><link rel="prefetch" href="/assets/1.html-yt_aD5jy.js" as="script"><link rel="prefetch" href="/assets/1.html-CB0KW2iW.js" as="script"><link rel="prefetch" href="/assets/1.html-BowE8ARr.js" as="script"><link rel="prefetch" href="/assets/1.html-eqCr6DX7.js" as="script"><link rel="prefetch" href="/assets/1.html-BzUo2DSG.js" as="script"><link rel="prefetch" href="/assets/1.html-Bbsmxffu.js" as="script"><link rel="prefetch" href="/assets/1.html-D1KaZrYC.js" as="script"><link rel="prefetch" href="/assets/1.html-BsZV3kvN.js" as="script"><link rel="prefetch" href="/assets/1.html-BGm0_Wx5.js" as="script"><link rel="prefetch" href="/assets/1.html-B1kFZ9mE.js" as="script"><link rel="prefetch" href="/assets/1.html-DGrhAkLt.js" as="script"><link rel="prefetch" href="/assets/1.html-DZ1nTxId.js" as="script"><link rel="prefetch" href="/assets/1.html-CMIkUwD8.js" as="script"><link rel="prefetch" href="/assets/1.html-BNjog0ni.js" as="script"><link rel="prefetch" href="/assets/1.html-Cc40ApdK.js" as="script"><link rel="prefetch" href="/assets/1.html-Bj7-p0It.js" as="script"><link rel="prefetch" href="/assets/1.html-BLQwyT21.js" as="script"><link rel="prefetch" href="/assets/1.html-BOd0TIhR.js" as="script"><link rel="prefetch" href="/assets/1.html-UOioTLnQ.js" as="script"><link rel="prefetch" href="/assets/1.html-DCqxRPiQ.js" as="script"><link rel="prefetch" href="/assets/1.html-Cf7jkBFG.js" as="script"><link rel="prefetch" href="/assets/1.html-Bffo7Z9I.js" as="script"><link rel="prefetch" href="/assets/1.html-DGQzGuaA.js" as="script"><link rel="prefetch" href="/assets/1.html-1aLZjQaN.js" as="script"><link rel="prefetch" href="/assets/1.html-B98SEDc9.js" as="script"><link rel="prefetch" href="/assets/1.html-hj_htl7b.js" as="script"><link rel="prefetch" href="/assets/1.html-C7vICF5f.js" as="script"><link rel="prefetch" href="/assets/1.html-CUjZWUGs.js" as="script"><link rel="prefetch" href="/assets/1.html-CVU23UYr.js" as="script"><link rel="prefetch" href="/assets/1.html-Dn3fPxPr.js" as="script"><link rel="prefetch" href="/assets/1.html-CFEAodqK.js" as="script"><link rel="prefetch" href="/assets/1.html-C4TaKn5K.js" as="script"><link rel="prefetch" href="/assets/1.html-Dw9Zp6ML.js" as="script"><link rel="prefetch" href="/assets/1.html-BBvl4a-w.js" as="script"><link rel="prefetch" href="/assets/1.html-Coi_xg1g.js" as="script"><link rel="prefetch" href="/assets/1.html-CBBFrxJ9.js" as="script"><link rel="prefetch" href="/assets/1.html-BJ0IZfEG.js" as="script"><link rel="prefetch" href="/assets/1.html-TVL-fUtr.js" as="script"><link rel="prefetch" href="/assets/1.html-Disg0Tqq.js" as="script"><link rel="prefetch" href="/assets/2.html-Dgu2oU6o.js" as="script"><link rel="prefetch" href="/assets/3.html-BjFB_Ca1.js" as="script"><link rel="prefetch" href="/assets/4.html-CouYwquB.js" as="script"><link rel="prefetch" href="/assets/5.html-4huYDZh2.js" as="script"><link rel="prefetch" href="/assets/index.html-BaBP6NH6.js" as="script"><link rel="prefetch" href="/assets/Ubuntu.html-CUyx21fh.js" as="script"><link rel="prefetch" href="/assets/VSCode_Jupyter.html-BrhSNgRK.js" as="script"><link rel="prefetch" href="/assets/VSCode_LaTex.html-CTTLq7av.js" as="script"><link rel="prefetch" href="/assets/VSCode_Markdown.html-BfVUtb9r.js" as="script"><link rel="prefetch" href="/assets/VSCode_Matlab.html-wpgIPqA2.js" as="script"><link rel="prefetch" href="/assets/VSCode_Plugins.html-CdFuU2Uj.js" as="script"><link rel="prefetch" href="/assets/VSCode_Verilog.html-C7TEj0F3.js" as="script"><link rel="prefetch" href="/assets/ssh.html-CdxNmekp.js" as="script"><link rel="prefetch" href="/assets/FFT.html-Cyt0G-8Y.js" as="script"><link rel="prefetch" href="/assets/LinearAlgebra.html-CUYJNMjB.js" as="script"><link rel="prefetch" href="/assets/motorControl.html-rOORs7Mj.js" as="script"><link rel="prefetch" href="/assets/regression.html-DzFtGkXK.js" as="script"><link rel="prefetch" href="/assets/AI_Preliminary.html-DhcBMHnG.js" as="script"><link rel="prefetch" href="/assets/CNN.html-NVeUXorf.js" as="script"><link rel="prefetch" href="/assets/HandWritingRecognize_CNN.html-BIUQzCZf.js" as="script"><link rel="prefetch" href="/assets/MOS.html-CEkMf0Uk.js" as="script"><link rel="prefetch" href="/assets/Tips.html-DlmxC6lL.js" as="script"><link rel="prefetch" href="/assets/ecofinance.html-jWWDV__x.js" as="script"><link rel="prefetch" href="/assets/git.html-jo8r2u5q.js" as="script"><link rel="prefetch" href="/assets/image.html-Bq075vBZ.js" as="script"><link rel="prefetch" href="/assets/matlab.html-CO3aL8yS.js" as="script"><link rel="prefetch" href="/assets/Domain.html-BO42RH5D.js" as="script"><link rel="prefetch" href="/assets/script_UWB.html-nOBmZfSl.js" as="script"><link rel="prefetch" href="/assets/ChristmasTree.html-C7Yz5WQx.js" as="script"><link rel="prefetch" href="/assets/Comment_on_teaching_Script.html-M0-_XaU6.js" as="script"><link rel="prefetch" href="/assets/OriginGuide.html-DU-IiK_m.js" as="script"><link rel="prefetch" href="/assets/ReWIPI_NRAM.html-EkJFemCP.js" as="script"><link rel="prefetch" href="/assets/datetime.html-Dgd43jgJ.js" as="script"><link rel="prefetch" href="/assets/keyword.html-CsusZbU4.js" as="script"><link rel="prefetch" href="/assets/matplotlib.html-rFtu0-2W.js" as="script"><link rel="prefetch" href="/assets/numpy.html-BXRLo128.js" as="script"><link rel="prefetch" href="/assets/opencv-python.html-DF92fizP.js" as="script"><link rel="prefetch" href="/assets/openpyxl.html-DdbQgKef.js" as="script"><link rel="prefetch" href="/assets/pandas.html-BJRB917g.js" as="script"><link rel="prefetch" href="/assets/statsmodels.html-CO0vW7nK.js" as="script"><link rel="prefetch" href="/assets/time.html-xHI8FETd.js" as="script"><link rel="prefetch" href="/assets/wordcloud.html-BAcUpAHT.js" as="script"><link rel="prefetch" href="/assets/ESP8266.html-qWvnuWBu.js" as="script"><link rel="prefetch" href="/assets/MacroTips_C.html-DsrGeKeX.js" as="script"><link rel="prefetch" href="/assets/Start.html-DpAVNQfM.js" as="script"><link rel="prefetch" href="/assets/usart.html-DGDMRk2c.js" as="script"><link rel="prefetch" href="/assets/Communication_principle.html-NMtyjosA.js" as="script"><link rel="prefetch" href="/assets/Digitial_Signal_Processing.html-CuapP71y.js" as="script"><link rel="prefetch" href="/assets/Random_Signal_Analysis.html-CzWnqTqP.js" as="script"><link rel="prefetch" href="/assets/Signal_and_System.html-NlRnhwLG.js" as="script"><link rel="prefetch" href="/assets/api.html-BV-KS8aa.js" as="script"><link rel="prefetch" href="/assets/home.html-DmI8oyYt.js" as="script"><link rel="prefetch" href="/assets/plugin.html-BZGUY2mm.js" as="script"><link rel="prefetch" href="/assets/theme.html-B7OyyY3g.js" as="script"><link rel="prefetch" href="/assets/404.html-D8Kgek98.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="Land of Fragment"><a href="/" class="site-name can-hide">Land of Fragment</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="TimeLine"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->TimeLine<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/Others/1.html" class="link" aria-label="Categories"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Categories<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/Tips/1.html" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/theme-reco/theme" class="link" aria-label="vuepress-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-reco<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blogs/Others/OriginGuide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/friendship-link.html" class="link" aria-label="Link"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Link<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">Windows内运行Linux-WSL2</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->NewLearner4396<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2022-11-22<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/Config/1.html" class="">Config</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/Linux/1.html" class="">Linux</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="windows-subsystem-for-linux——wsl2" tabindex="-1"><a class="header-anchor" href="#windows-subsystem-for-linux——wsl2"><span>Windows Subsystem for Linux——WSL2</span></a></h2><h3 id="前世今身" tabindex="-1"><a class="header-anchor" href="#前世今身"><span>前世今身</span></a></h3><p>微软开发WSL使开发人员能在Windows环境下运行Linux环境，而不会产生传统虚拟机或双系统设置的烦恼。原本WSL希望在Windows下解释Linux，但发现成本太高，难以维继🤔，选择了使用虚拟化直接调用Linux内核推出了WSL2。</p><h3 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点"><span>优缺点</span></a></h3><p>在Windows窗口下运行Linux环境，可以直接使用Docker等，而不需要Win去转换，虽然类似虚拟机，但Win与Linux共享设备资源，动态调度，可以直接使用GPU进行机器学习等的加速，损耗比传统虚拟机小，且Linux可以直接访问Windows下的文件，但是WSL2的访问速度比WSL1的差了许多。</p><p>目前WSL2若需要直接访问USB设备，需要使用USBIPD-WIN工具提供支持，具体参阅<a href="https://learn.microsoft.com/zh-cn/windows/wsl/connect-usb" target="_blank" rel="noopener noreferrer">连接USB设备<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，且还不支持串行端口。</p><p>目前在关闭WSL2实例前，WSL2不会自动将之前用的内存的缓存释放，若长时间运行容易耗尽Windows内存，而WSL1会在进程结束后直接释放，这个区别需要注意</p><p>WSL2作为hyper-v虚拟机运行，使用网络地址转换 (NAT) 服务作为其虚拟网络，而不是将其桥接到主机网络接口卡 (NIC)，在重启时将更改IP地址，若需固定IP则需要设置替代方法。</p><h3 id="安装条件" tabindex="-1"><a class="header-anchor" href="#安装条件"><span>安装条件</span></a></h3><ol><li>win10系统版本为 Version 1903 or later, with Build 18362 or later，终端中输入<code>ver</code>查看。win11直接支持。</li><li>计算机支持支持 Hyper-V 虚拟化</li></ol><p><a href="https://learn.microsoft.com/en-us/windows/wsl/install-manual#step-2---check-requirements-for-running-wsl-2" target="_blank" rel="noopener noreferrer">检查安装WSL2条件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="启用" tabindex="-1"><a class="header-anchor" href="#启用"><span>启用</span></a></h3><p><strong>以下命令都在管理员身份运行！</strong></p><ol><li><p>启用WSL <code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</code></p></li><li><p>启用“虚拟机平台” <code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</code></p><p>或是手动启用，win+R 输入 appwiz.cpl，打开启用或关闭 Windows 功能 启用以下三个功能： <img src="http://imagebed.krins.cloud/api/image/X6422F0R.png" alt="启用wsl"></p></li><li><p>设置默认使用WSL2 下载WSL2内核更新包<a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" target="_blank" rel="noopener noreferrer">适用于 x64 计算机的 WSL2 Linux 内核更新包<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，以管理员身份运行 之后在终端中输入 <code>wsl --set-default-version 2</code></p></li><li><p>安装一个Linux发行版 为了不将Linux系统安装在C盘，需要麻烦一点，手动下载安装包进行安装 在官网中下载Linux发行版：<a href="https://learn.microsoft.com/en-us/windows/wsl/install-manual#downloading-distributions" target="_blank" rel="noopener noreferrer">Linux发行版<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>以管理员身份运行终端，输入<code>netsh winsock reset</code>，之后不要重启，继续往下</p><p>将安装包放在想安装Linux的路径，后缀改为<code>.zip</code>，解压后若无<code>Ubuntu.exe</code>，则将<code>Ubuntu_2204.0.10.0_x64.appx</code>后缀再次修改为<code>.zip</code>解压运行<code>Ubuntu.exe</code>，否则直接运行<code>Ubuntu.exe</code></p><p>等待一会，安装窗口会要求输入用户名和密码，输入完毕则安装完成</p></li><li><p>避免使用WSL2时出现<code>参考的对象类型不支持尝试</code> 下载<a href="https://github.com/dyingsu/nolsp" target="_blank" rel="noopener noreferrer">NoLsp.exe<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，解压后放置在<code>C:\windows\system32</code>文件夹中，以管理员身份运行终端输入<code>NoLsp.exe C:\windows\system32\wsl.exe</code></p></li></ol><h3 id="图形界面" tabindex="-1"><a class="header-anchor" href="#图形界面"><span>图形界面</span></a></h3><p>Win11 22000或更高版本已支持WSL的GUI😏</p><p>安装与显卡匹配的驱动：</p><ul><li><a href="https://www.intel.com/content/www/us/en/download/19344/intel-graphics-windows-dch-drivers.html" target="_blank" rel="noopener noreferrer">适用于 WSL 的 Intel GPU 驱动程序<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.amd.com/en/support/kb/release-notes/rn-rad-win-wsl-support" target="_blank" rel="noopener noreferrer">适用于 WSL 的 AMD GPU 驱动程序<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://developer.nvidia.com/cuda/wsl" target="_blank" rel="noopener noreferrer">适用于 WSL 的 NVIDIA GPU 驱动程序<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>更新WSL后重启即可使用图形化界面了 <code>wsl --update</code></p><p>若win10想使用图形化界面可以通过远程桌面曲线救国😆</p><p>在wsl环境下输入</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 安装远程桌面协议xrdp与轻量级桌面xfce</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xrdp</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xfce4 xfce4-goodies</span>
<span class="line"><span class="token comment"># 编辑xrdp配置文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/xrdp/xrdp.ini</span>
<span class="line"><span class="token comment">##修改以下参数后保存</span></span>
<span class="line"><span class="token assign-left variable">max_bpp</span><span class="token operator">=</span><span class="token number">128</span></span>
<span class="line"><span class="token assign-left variable">xserverbpp</span><span class="token operator">=</span><span class="token number">128</span> <span class="token comment"># 这个原本是注释着的，不改也行</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#在bash下直接输入</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> xfce4-session <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> ~/.xsession</span>
<span class="line"></span>
<span class="line"><span class="token comment">#编辑/etc/xrdp/startwm.sh文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/xrdp/startwm.sh</span>
<span class="line"><span class="token comment">##注释掉最后两行并添加一句startxfce4，然后保存</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每次要使用桌面时</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 开启远程桌面</span></span>
<span class="line"><span class="token function">sudo</span> /etc/init.d/xrdp start</span>
<span class="line"><span class="token comment"># 确定ip</span></span>
<span class="line"><span class="token function">ip</span> a</span>
<span class="line"><span class="token comment">## 找到eth0的inet</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://imagebed.krins.cloud/api/image/TBH4H480.png" alt="查找ip"></p><p>win+R 输入mstsc打开微软的远程桌面连接工具 输入上面的ip <img src="http://imagebed.krins.cloud/api/image/000X0VPN.png" alt="输入ip"> 输入用户名密码连接 <img src="http://imagebed.krins.cloud/api/image/FJ6P6RFJ.png" alt="连接远程桌面"></p><p>喜欢折腾可以美化桌面教程：<a href="https://blog.csdn.net/alfiy/article/details/126859106" target="_blank" rel="noopener noreferrer">美化你的Xfce桌面<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="windows-terminal" tabindex="-1"><a class="header-anchor" href="#windows-terminal"><span>Windows Terminal</span></a></h3><p><a href="https://learn.microsoft.com/zh-cn/windows/terminal/" target="_blank" rel="noopener noreferrer">什么是 Windows 终端？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://zhuanlan.zhihu.com/p/272082726#:~:text=Windows%20Terminal%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97%201%20%E5%8D%95%E5%87%BB%E5%85%B6%E5%BC%80%E5%A7%8B%E8%8F%9C%E5%8D%95%E5%9B%BE%E6%A0%87%202%20%E5%9C%A8Powershell%E6%88%96%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E4%B8%8B%E8%BE%93%E5%85%A5%20wsl%20%E6%88%96,Terminal%3A%20Select%20Default%20Shell%20%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%20WSL%20Bash%20%E3%80%82" target="_blank" rel="noopener noreferrer">Windows Terminal完整指南<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/Jioho_chen/article/details/100624029" target="_blank" rel="noopener noreferrer">美化 Windows Terminal(iTerm2-Color-Schemes)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="固定ip" tabindex="-1"><a class="header-anchor" href="#固定ip"><span>固定ip</span></a></h3><p>因为WSL2每次启动都要虚拟化一张网卡，所以ip不会固定，需要其他的方法固定ip方便登录</p><p>我设置的ip为 Windows端静态IP 192.168.99.1 WSL Linux端静态IP 192.168.99.2 可按照个人需求进行设定</p><p>在powershell中输入<code>vim $profile</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token variable">$getIP</span> <span class="token operator">=</span> netsh.exe interface <span class="token function">ip</span> show addresses <span class="token string">&quot;vEthernet (WSL)&quot;</span> <span class="token operator">|</span> findstr.exe /C:<span class="token string">&quot;192.168.99.1&quot;</span></span>
<span class="line">if<span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$getIP</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    netsh interface <span class="token function">ip</span> <span class="token function">add</span> address <span class="token string">&quot;vEthernet (WSL)&quot;</span> <span class="token assign-left variable">address</span><span class="token operator">=</span><span class="token number">192.168</span>.99.1/24</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>刚开机打开powershell时会显示<code>文件名、目录名或卷标语法不正确。</code> 因为wsl未启动，还未给其分配虚拟网卡，启动wsl后shell会自动给&quot;vEthernet (WSL)&quot;添加ip地址。 所以不用担心这个报错。</p><p>为避免wsl每次启动生成的ip将我们设置的ip覆盖掉，停用其服务</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 终端中输入</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/wsl.conf</span>
<span class="line"><span class="token comment"># 在文件内输入以下内容</span></span>
<span class="line"><span class="token punctuation">[</span>network<span class="token punctuation">]</span></span>
<span class="line">generateResolvConf <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token comment"># 保存后退出</span></span>
<span class="line"><span class="token comment"># 将已经生成的ip配置文件删除</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> /etc/resolv.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建一个脚本文件<code>sudo vim ~/Public/static-ip.sh</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token comment"># ip设置为192.168.99.2</span></span>
<span class="line"><span class="token function">ip</span> addr show eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;192.168.99.2/24&quot;</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> /dev/null</span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">  <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token number">192.168</span>.99.2/24 broadcast <span class="token number">192.168</span>.99.255 dev eth0 label eth0:1</span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为保证有运行权限终端输入<code>sudo chmod 777 ~/Public/static-ip.sh</code></p><p>因为Ubuntu默认的sh是连接到dash的，为了避免不能运行bash脚本，将dash禁用 <code>sudo dpkg-reconfigure dash</code> 选择<code>no</code> 参考:<a href="https://blog.csdn.net/dpl12/article/details/105484684" target="_blank" rel="noopener noreferrer">解决Linux下编译.sh文件报错 “[: unexpected operator]”<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>之后在<code>~/.bashrc</code>文件中添加使用该脚本的命令，就可以每次加载shell都启动一遍脚本</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 编辑配置文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> ~/.bashrc</span>
<span class="line"><span class="token comment"># 在文件末尾添加以下部分</span></span>
<span class="line"><span class="token comment">## 如果ip未修改的话运行脚本进行修改并顺便启动远程桌面</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">`</span><span class="token function">hostname</span> <span class="token parameter variable">-I</span><span class="token variable">`</span></span> <span class="token operator">!=</span> <span class="token string">&quot;192.168.99.2&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> Ubuntu <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-S</span> <span class="token function">sh</span> ~/Public/static-ip.sh</span>
<span class="line">    <span class="token function">sudo</span> /etc/init.d/xrdp start</span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种方法<strong>会将你的用户密码暴露在文件中</strong>，有些危险，但我目前暂时没有更好的解决办法，又不想直接进入就是root用户。以后有更好的办法再更新。</p><p><img src="http://imagebed.krins.cloud/api/image/ZJ84JFFT.png" alt="添加网络互通"></p><ul><li>新建防火墙入站规则 <ul><li>打开控制面板\系统和安全\Windows Defender 防火墙</li><li>点击入站规则-&gt;新建规则</li><li>规则类型：自定义</li><li>程序：所有程序</li><li>协议和端口：默认即可</li><li>作用域： <ul><li>本地ip处选择“任何IP地址”</li><li>远程ip处选择“下列IP地址”，并将wsl2的IP添加进去。（请根据自己wsl2的ip进行计算，我这里添加了172.22.176.0/20）（掩码一般是20位）</li></ul></li><li>操作：允许连接</li><li>配置文件：三个全选</li><li>名称描述：请自定义 注意：这一步完成后，从wsl2 ping主机的ip应该可以ping通了。 即<code>ping 192.168.99.1</code> 这个<code>192.168.99.1</code>是之前设置的Windows端静态IP</li></ul></li></ul><p>将Windows代理软件的<code>允许局域网</code>选项启用，在Linux设置代理 <code>export ALL_PROXY=&quot;http://192.168.99.1:7890&quot;</code>注意端口号要根据代理软件进行设置 就可以通过Windows进行代理啦🤩 之后要git之类的就能很方便</p><p><a href="https://www.zhihu.com/question/387747506/answer/2579596278" target="_blank" rel="noopener noreferrer">wsl2能否固定ip地址?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/xushx_bigbear/article/details/12966625" target="_blank" rel="noopener noreferrer">用 echo 管道命令给sudo自动输入密码<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/shihoongbo/article/details/122290472" target="_blank" rel="noopener noreferrer">Linux默认以root或管理员权限启动程序的三种方式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.1024sou.com/article/977402.html#:~:text=WSL2%20%E9%87%87%E7%94%A8%20Hyper-V%20%E7%9A%84%20Internal%20Virtual,Switch%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA%E6%9C%AC%E8%BA%AB%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%20IP%20%E5%9C%B0%E5%9D%80%E7%9A%84%EF%BC%8C%E4%BD%86%E6%98%AF%20WSL2%20%E5%8D%B4%E8%87%AA%E4%BD%9C%E8%81%AA%E6%98%8E%EF%BC%8C%E5%9C%A8%E6%AF%8F%E6%AC%A1%E5%85%A8%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%86%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E6%81%A2%E5%A4%8D%E6%88%90%20DHCP%EF%BC%8C%E8%BF%99%E5%B0%B1%E5%AF%BC%E8%87%B4WSL2%E6%AF%8F%E6%AC%A1%E5%85%A8%E6%96%B0%E5%90%AF%E5%8A%A8%E5%90%8E%E7%9A%84IP%E9%83%BD%E4%B8%8D%E5%9B%BA%E5%AE%9A%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%9B%BA%E5%AE%9A%E7%9A%84IP%EF%BC%8C%E9%9C%80%E8%A6%81%E5%81%9A%E4%B8%80%E4%BA%9B%E8%AE%BE%E7%BD%AE%E3%80%82" target="_blank" rel="noopener noreferrer">WSL2-CentOS7固定IP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://blog.csdn.net/nick_young_qu/article/details/113709768" target="_blank" rel="noopener noreferrer">wsl2配置使用windows网络代理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="使用cuda" tabindex="-1"><a class="header-anchor" href="#使用cuda"><span>使用CUDA</span></a></h3><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gpu-compute" target="_blank" rel="noopener noreferrer">官方教程-GPU加速<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="wsl命令" tabindex="-1"><a class="header-anchor" href="#wsl命令"><span>WSL命令</span></a></h3><p>可列出已安装的 Linux 发行版，并通过在 PowerShell 或 Windows 命令提示符中输入以下命令来检查每个发行版的 WSL 版本：wsl -l -v。</p><p>要在安装新的 Linux 发行版时将默认版本设置为 WSL 1 或 WSL 2，请使用命令 wsl --set-default-version &lt;Version#&gt;，将 &lt;Version#&gt; 替换为 1 或 2。</p><p>要设置与 wsl 命令一起使用的默认 Linux 发行版，请输入 wsl -s &lt;DistributionName&gt; 或 wsl --setdefault &lt;DistributionName&gt;，将 &lt;DistributionName&gt; 替换为要使用的 Linux 发行版的名称。 例如，从 PowerShell/CMD 输入 wsl -s Debian，将默认发行版设置为 Debian</p><p>要在 PowerShell 或 Windows 命令提示符下运行特定的 WSL 发行版而不更改默认发行版，请使用命令 wsl -d &lt;DistributionName&gt;，将 &lt;DistributionName&gt; 替换为要使用的发行版的名称。</p><p>wsl --set-version &lt;DistributionName&gt; version(1/2)命令可用于从 WSL 2 降级到 WSL 1，或将以前安装的 Linux 发行版从 WSL 1 更新到 WSL 2。</p><p>wsl --shutdown 命令用于将关闭wsl服务，释放其内存缓存。普通的exit只是注销，要过几分钟系统才会关闭其服务。</p><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands" target="_blank" rel="noopener noreferrer">WSL 的基本命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install#upgrade-version-from-wsl-1-to-wsl-2" target="_blank" rel="noopener noreferrer">安装WSL<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>参考链接：</p><ol><li><a href="https://www.cnblogs.com/ittranslator/p/14128570.html" target="_blank" rel="noopener noreferrer">如何在Windows 10上安装WSL2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://blog.csdn.net/weixin_45840825/article/details/127138564" target="_blank" rel="noopener noreferrer">win11 安装 WSL2 在非 C 盘及配置（图形界面+代理）<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://blog.csdn.net/qq_43613793/article/details/119774825" target="_blank" rel="noopener noreferrer">Win10通过wsl2使用Ubuntu以及GUI的安装<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/" target="_blank" rel="noopener noreferrer">官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/setup/environment" target="_blank" rel="noopener noreferrer">WSL使用官方教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ol></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 4/12/2025, 1:07:53 AM<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/Config/WSL.html#windows-subsystem-for-linux——wsl2" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Windows Subsystem for Linux——WSL2"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Windows Subsystem for Linux——WSL2<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#前世今身" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="前世今身"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->前世今身<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#优缺点" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="优缺点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->优缺点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#安装条件" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="安装条件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->安装条件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#启用" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="启用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->启用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#图形界面" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="图形界面"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->图形界面<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#windows-terminal" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Windows Terminal"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Windows Terminal<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#固定ip" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="固定ip"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->固定ip<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#使用cuda" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="使用CUDA"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->使用CUDA<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/Config/WSL.html#wsl命令" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="WSL命令"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->WSL命令<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BSRiWrsC.js" defer></script>
  </body>
</html>
